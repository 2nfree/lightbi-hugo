{{ define "main" }}

<div class="intro-header no-img mt-10">
</div>

<div class="container" role="main">

  <!-- Diplay the featured posts in first page only  -->
  {{ $paginator := .Paginator }} 
  
  {{ if eq $paginator.PageNumber 1 }}
  <div class="container">
    <div class="row">
      {{ template "partials/carousel.html" . }}
    </div>
  </div>
  {{ end }} 

  <div class="container">
    <div class="row">
      {{ with .Content }}
      <div class="well">
        {{.}}
      </div>
      {{ end }}

      {{ $pag := .Paginate (where site.RegularPages "Type" "in" site.Params.mainSections ) 6 }}

      {{ range $pag.Pages }}
      {{ partial "post_preview" . }}
      {{ end }}

    </div>
  </div>



  <div class="container mt-3">
    <div class="row ">
      <div class="col-md-12">
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-end">
            {{ template "_internal/pagination.html" . }}
          </ul>
      </div>
    </div>
    </nav>
  </div>

</div>
</div>
</div>
{{ end }}